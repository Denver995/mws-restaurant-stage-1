<!DOCTYPE html>
<html>

<head>
  <!-- meta charset="utf-8" for appropriate document type -->
  <meta charset="utf-8">
  <link rel="manifest" href="manifest.webmanifest">
  <!-- meta name="viewport" for a better displaying of the content at all screen sizes and make use of available screen real estate.-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- responsive-restaurant.css for responsive design -->
  <link rel="stylesheet" href="css/restaurant.css" type="text/css" />
  <!-- Main CSS file -->
  <link rel="stylesheet" href="css/styles.css" type="text/css" />
  <link rel="stylesheet" media="screen and (max-width: 750px)" href="css/restaurant_small_resolution.css" type="text/css" />
  <link rel="stylesheet" media="screen and (min-width: 751px) and (max-width: 1200px)" href="css/restaurant_height_resolution.css" type="text/css" />
  <!-- Normalize.css for better cross-browser consistency -->
  <link rel="stylesheet" src="//normalize-css.googlecode.com/svn/trunk/normalize.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>
  <title>Restaurant Info</title>
</head>

<body class="inside">
  <!-- Beginning header -->
  <header>
    <!-- Beginning nav -->
    <nav>
      <h1><a href="/">Restaurant Reviews</a></h1>
    </nav>
    <!-- Beginning breadcrumb -->
    <ul id="breadcrumb" aria-label="breadcrumb" role="navigation">
      <li><button id="btn-display-controls" class="btn">show bottons controls</button></li>
      <li><button id="btn-hide-controls" class="btn">hide bottons controls</button></li>
      <li><a href="/">Home</a></li>
    </ul>
    <div id="control-contain" class="container">
        <button  id="btn-display-form" class="btn">Adding your review</button>
        <button  id="btn-hide-form" class="btn">hide form</button>
        <button  id="btn-display-reviews-list" class="btn">show reviews list</button>
        <button  id="btn-hide-reviews-list" class="btn">hide reviews list</button>
        <button  id="btn-display-map" class="btn">show map carte</button>
        <button  id="btn-hide-map" class="btn">hide map carte</button>  
    </div>
    <!-- End breadcrumb -->
    <!-- End nav -->
  </header>
  <!-- End header -->

  <!-- Beginning main -->
  <main id="maincontent">
    <!-- Beginning map -->
    <section id="map-container">
      <div id="map" aria-label="navigation" role="application"></div>
    </section>
    <!-- End map -->
    <!-- Beginning restaurant -->
    <section id="restaurant-container">
      <h2 id="restaurant-name"></h2>
      <img id="restaurant-img">
      <p id="restaurant-cuisine"></p>
      <p id="restaurant-address"></p>
      <table id="restaurant-hours"></table>
    </section>
    <!-- end restaurant -->
    <!-- Beginning reviews -->
    <section id="reviews-container">
      <ul id="reviews-list"></ul>
      <div class="succes-message"></div>
      <div class="form-reviews card">
        <form id="form-reviews">
          <h3>add a review</h3>
          <div class="label">
            <label for="reviewer_name" class="label">name</label>
          </div>
          <div class="input">
            <input type="text" name="reviewer_name" id="reviewer_name" class="input"/>
          </div>
          <div class="label">
            <label for="ratin" class="label">rate</label>
          </div>
          <fieldset>
            <span class="star-cb-group">
              <input type="radio" id="rating-0" name="rating" value="0" class="star-cb-clear" /><label for="rating-0">0</label>
              <input type="radio" id="rating-1" name="rating" value="1" /><label for="rating-1">1</label>
              <input type="radio" id="rating-2" name="rating" value="2" /><label for="rating-2">2</label>
              <input type="radio" id="rating-3" name="rating" value="3" /><label for="rating-3">3</label>
              <input type="radio" id="rating-4" name="rating" value="4" checked="checked" /><label for="rating-4">4</label>
              <input type="radio" id="rating-5" name="rating" value="5" /><label for="rating-5">5</label>
            </span>
          </fieldset>
          <div class="label">
            <label for="comment_text" class="label">comments</label>
          </div>
          <div class="textarea">
            <textarea name="comment_text" id="comment_text"></textarea> 
          </div>
          <div class="input">
            <input name="id" type="number"  hidden="true" id="id" class="input"/>
          </div> 
          <button id="btn-submit" class="btn">Add now</button><div class="loader"></div>
        </form>
      </div>
      <!-- End form reviews -->
    </section>
    <!-- End reviews -->
  </main>
  <!-- End main -->

  <!-- Beginning footer -->
  <footer id="footer">
    Copyright (c) 2017 <a href="/"><strong>Restaurant Reviews</strong></a> All Rights Reserved.
  </footer>
  <!-- End footer -->
  <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>
  <!-- Beginning scripts -->
  <!-- Database helpers -->
  <script type="text/javascript" src="js/dbhelper.js"></script>
  <!-- Main javascript file -->
  <script type="text/javascript" src="js/restaurant_info.js"></script>
 <script type="text/javascript" src="js/idb.js"></script>
 <!--  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA_tKbW6A5pQ-eupxI56myUnHLqYCzOjKo&libraries=places&callback=initMap"></script> -->
  <!-- End scripts -->
  <!-- script service worker -->
  <script src="sw.js"></script>
  <script type="text/javascript">
    //handle the event that will post the a new review on the server 
    document.getElementById('btn-submit').addEventListener('click', (event) => {
        event.preventDefault();
        addReview(event);
        console.log('end event');
    });

    //show map carte
    document.getElementById('btn-display-map').addEventListener('click', () => {
        document.getElementById("btn-display-map").style.display = "none";
        document.getElementById("btn-hide-map").style.display = "block";
        document.getElementById("map").style.display = "block";    
    }); 

    //show controls buttons
    document.getElementById('btn-display-controls').addEventListener('click', () => {
        document.getElementById("btn-display-controls").style.display = "none";
        document.getElementById("control-contain").style.display = "block";
        document.getElementById("btn-display-reviews-list").style.display = "block"; 
        document.getElementById("btn-display-map").style.display = "block";
        document.getElementById("btn-hide-form").style.display = "none";
        document.getElementById("btn-hide-map").style.display = "none";
        document.getElementById("btn-hide-reviews-list").style.display = "none";
        document.getElementById("btn-hide-controls").style.display = "block";   
    }); 

    //hide controls buttons
    document.getElementById('btn-hide-controls').addEventListener('click', () => {
        document.getElementById("btn-hide-controls").style.display = "none"; 
        document.getElementById("btn-display-controls").style.display = "block";
        document.getElementById("control-contain").style.display = "none";   
    });

    //hide map carte
    document.getElementById('btn-hide-map').addEventListener('click', () => {
        document.getElementById("btn-hide-map").style.display = "none"; 
        document.getElementById("btn-display-map").style.display = "block";
        document.getElementById("map").style.display = "none";   
    });

    //show the form to add a new review
    document.getElementById('btn-display-form').addEventListener('click', () => {
        document.getElementById("form-reviews").style.display = "block"; 
        document.getElementById("btn-hide-form").style.display = "block";
        document.getElementById("btn-display-form").style.display = "none";   
    });

    //hide the form to add a new review
    document.getElementById('btn-hide-form').addEventListener('click', () => {
        document.getElementById("form-reviews").style.display = "none";  
        document.getElementById("btn-hide-form").style.display = "none";
        document.getElementById("btn-display-form").style.display = "block";  
    });

    //show reviews list
    document.getElementById('btn-display-reviews-list').addEventListener('click', () => {
        document.getElementById("btn-display-reviews-list").style.display = "none"; 
        document.getElementById("btn-hide-reviews-list").style.display = "block";
        document.getElementById("reviews-list").style.display = "block";   
    });

    //hide reviews list
    document.getElementById('btn-hide-reviews-list').addEventListener('click', () => {
        document.getElementById("btn-hide-reviews-list").style.display = "none";
        document.getElementById("reviews-list").style.display = "none";  
        document.getElementById("btn-display-reviews-list").style.display = "block";  
    });
  </script>

</body>

</html>
